<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="styles/granbarra.css">
    <link href="https://fonts.googleapis.com/css?family=Oswald:700" rel="stylesheet">
</head>

<body>
    <div class="site-wrap">
        <div class="panel-wrap animate--none">
            <div class="panel inicio" data-x-pos="0" data-y-pos="0">
                <span class="panel__nav panel__nav--up js-up">concepto</span>
                <span class="panel__nav panel__nav--right-top js-up js-right">reserva</span>
                <span class="panel__nav panel__nav--left-top js-up js-left">restaurantes</span>
                <span class="panel__nav panel__nav--left js-left">sabores</span>
                <span class="panel__nav panel__nav--right js-right">menu</span>
                <span class="panel__nav panel__nav--right-down js-down js-right">facturacion</span>
                <span class="panel__nav panel__nav--left-down js-down js-left">galeria</span>
                <span class="panel__nav panel__nav--down js-down">nosotros</span>
                <span class="panel__zoom js-zoom">Ver sitio Completo</span>
                <h1>La Gran Barra</h1>

            </div>
            <div class="panel concepto" data-x-pos="0" data-y-pos="1">
                <span class="panel__nav panel__nav--left js-left">restaurantes</span>
                <span class="panel__nav panel__nav--right js-right">reserva</span>
                <span class="panel__nav panel__nav--right-down js-down js-right">menu</span>
                <span class="panel__nav panel__nav--left-down js-down js-left">sabores</span>
                <span class="panel__nav panel__nav--down js-down">Inicio</span>
                <div class="container">
                    <h1>Concepto</h1>
                </div>
            </div>
            <div class="panel restaurantes" data-x-pos="-1" data-y-pos="1">
                <span class="panel__nav panel__nav--right-down js-down js-right">inicio</span>
                <span class="panel__nav panel__nav--right js-right">concepto</span>
                <span class="panel__nav panel__nav--down js-down">sabores</span>
                <h1>Navega</h1>
            </div>
            <div class="panel reserva" data-x-pos="1" data-y-pos="1">
                <span class="panel__nav panel__nav--left-down js-down js-left">inicio</span>
                <span class="panel__nav panel__nav--left js-left">concepto</span>
                <span class="panel__nav panel__nav--down js-down">menu</span>
                <h1>Reserva</h1>
            </div>
            <div class="panel sabores" data-x-pos="-1" data-y-pos="0">
                <span class="panel__nav panel__nav--up js-up">up</span>
                <span class="panel__nav panel__nav--right-top js-up js-right">concepto</span>
                <span class="panel__nav panel__nav--right js-right">inicio</span>
                <span class="panel__nav panel__nav--right-down js-down js-right">nosotros</span>
                <span class="panel__nav panel__nav--down js-down">galeria</span>
                <h1>sabores</h1>
            </div>
            <div class="panel galeria" data-x-pos="-1" data-y-pos="-1">
                <span class="panel__nav panel__nav--up js-up">sabores</span>
                <span class="panel__nav panel__nav--right-top js-up js-right">inicio</span>
                <span class="panel__nav panel__nav--right js-right">nosotros</span>
                <h1>Galeria</h1>
            </div>
            <div class="panel facturacion" data-x-pos="1" data-y-pos="-1">
                <span class="panel__nav panel__nav--up js-up">menu</span>
                <span class="panel__nav panel__nav--left-top js-up js-left">inicio</span>
                <span class="panel__nav panel__nav--left js-left">nosotros</span>
                <h1>Facturacion</h1>
            </div>
            <div class="panel menu" data-x-pos="1" data-y-pos="0">
                <span class="panel__nav panel__nav--up js-up">reserva</span>
                <span class="panel__nav panel__nav--left-top js-up js-left">concepto</span>
                <span class="panel__nav panel__nav--left js-left">inicio</span>
                <span class="panel__nav panel__nav--left-down js-down js-left">nosotros</span>
                <span class="panel__nav panel__nav--down js-down">facturacion</span>
                <h1>Menu</h1>
            </div>
            <div class="panel nosotros" data-x-pos="0" data-y-pos="-1">
                <span class="panel__nav panel__nav--up js-up">inicio</span>
                <span class="panel__nav panel__nav--left-top js-up js-left">sabores</span>
                <span class="panel__nav panel__nav--right-top js-up js-right">menu</span>
                <span class="panel__nav panel__nav--left js-left">galeria</span>
                <span class="panel__nav panel__nav--right js-right">facturacion</span>
                <span class="panel__nav panel__nav--down js-down">contacto</span>
                <h1>Nosotros</h1>
            </div>
            <div class="panel contacto" data-x-pos="0" data-y-pos="-2">
                <span class="panel__nav panel__nav--up js-up">nosotros</span>
                <h1>Contacto</h1>
            </div>
        </div>

    </div>
    <script>

        // Global
        var win = window,
            doc = document;

        // Global Functions

        function hasClass(el, cls) {
            return el.className.match(new RegExp("(\\s|^)" + cls + "(\\s|$)"));
        }

        function addClass(el, cls) {
            if (!this.hasClass(el, cls)) {
                el.className += " " + cls;
            }
        }

        function removeClass(el, cls) {
            if (this.hasClass(el, cls)) {
                var reg = new RegExp("(\\s|^)" + cls + "(\\s|$)");
                el.className = el.className.replace(reg, " ");
            }
        }

        // Elements

        var site = doc.getElementsByClassName("site-wrap")[0];
        var wrap = doc.getElementsByClassName("panel-wrap")[0];

        var panel = doc.getElementsByClassName("panel");

        var zoom = doc.getElementsByClassName("js-zoom");

        var nav_up = doc.getElementsByClassName("js-up"),
            nav_left = doc.getElementsByClassName("js-left"),
            nav_right = doc.getElementsByClassName("js-right"),
            nav_down = doc.getElementsByClassName("js-down");

        var animation = doc.getElementsByClassName("js-animation");

        // Tracking
        var pos_x = 0,
            pos_y = 0;

        function setPos() {
            wrap.style.transform =
                "translateX(" + pos_x + "00%) translateY(" + pos_y + "00%)";
            setTimeout(function () {
                removeClass(wrap, "animate");
            }, 600);
        }

        setPos();

        function moveUp() {
            addClass(wrap, "animate");
            pos_y++;
            setPos();
        }

        function moveLeft() {
            addClass(wrap, "animate");
            pos_x++;
            setPos();
        }

        function moveRight() {
            addClass(wrap, "animate");
            pos_x--;
            setPos();
        }

        function moveDown() {
            addClass(wrap, "animate");
            pos_y--;
            setPos();
        }

        for (var x = 0; x < nav_up.length; x++) {
            nav_up[x].addEventListener("click", moveUp);
        }

        for (var x = 0; x < nav_left.length; x++) {
            nav_left[x].addEventListener("click", moveLeft);
        }

        for (var x = 0; x < nav_right.length; x++) {
            nav_right[x].addEventListener("click", moveRight);
        }

        for (var x = 0; x < nav_down.length; x++) {
            nav_down[x].addEventListener("click", moveDown);
        }

        // Animations

        for (var x = 0; x < animation.length; x++) {
            (function (_x) {
                animation[_x].addEventListener("click", function () {
                    toggleAnimation(_x);
                });
            })(x);
        }

        function toggleAnimation(i) {
            for (var x = 0; x < animation.length; x++) {
                if (i === x) {
                    addClass(animation[x], "active");
                    addClass(wrap, animation[x].getAttribute("data-animation"));
                } else {
                    removeClass(animation[x], "active");
                    removeClass(wrap, animation[x].getAttribute("data-animation"));
                }
            }
        }

        for (var x = 0; x < zoom.length; x++) {
            zoom[x].addEventListener("click", zoomOut);
        }

        function zoomOut(e) {
            e.stopPropagation();
            addClass(site, "show-all");
            for (var x = 0; x < panel.length; x++) {
                (function (_x) {
                    panel[_x].addEventListener("click", setPanelAndZoom);
                })(x);
            }
        }

        function setPanelAndZoom(e) {
            (pos_x = -e.target.getAttribute("data-x-pos")),
                (pos_y = e.target.getAttribute("data-y-pos"));
            setPos();
            zoomIn();
        }

        function zoomIn() {
            for (var x = 0; x < panel.length; x++) {
                panel[x].removeEventListener("click", setPanelAndZoom);
            }
            removeClass(site, "show-all");
        }

    </script>
</body>

</html>